---
---

<header class="fixed w-full top-0 z-50 bg-white/90 backdrop-blur-sm shadow-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <a href="#" class="flex-shrink-0 flex items-center">
          <span class="font-serif text-xl font-bold text-primary-800">Smart Library Assistant</span>
        </a>
      </div>
      <nav class="hidden sm:ml-6 sm:flex sm:space-x-8 items-center">
        <a href="#vision" class="nav-link text-gray-700 hover:text-primary-700 px-3 py-2 text-sm font-medium transition-colors">Vision</a>
        <a href="#demo" class="nav-link text-gray-700 hover:text-primary-700 px-3 py-2 text-sm font-medium transition-colors">Demo</a>
        <a href="#team" class="nav-link text-gray-700 hover:text-primary-700 px-3 py-2 text-sm font-medium transition-colors">Team</a>
        <a href="#code" class="nav-link text-gray-700 hover:text-primary-700 px-3 py-2 text-sm font-medium transition-colors">Code</a>
        <a href="#report" class="nav-link text-gray-700 hover:text-primary-700 px-3 py-2 text-sm font-medium transition-colors">Report</a>
        <a href="#presentation" class="nav-link text-gray-700 hover:text-primary-700 px-3 py-2 text-sm font-medium transition-colors">Presentation</a>
        <a href="https://computing.calvin.edu/" target="_blank" rel="noopener noreferrer" class="bg-primary-100 text-primary-800 hover:bg-primary-200 transition-colors duration-200 px-3 py-2 rounded-md text-sm font-medium">
          CS Department
        </a>
      </nav>
      <div class="flex items-center sm:hidden">
        <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-primary-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500">
          <span class="sr-only">Open main menu</span>
          <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="hidden sm:hidden">
    <div class="pt-2 pb-3 space-y-1">
      <a href="#vision" class="nav-link-mobile text-gray-700 hover:bg-gray-100 block px-3 py-2 text-base font-medium">Vision</a>
      <a href="#demo" class="nav-link-mobile text-gray-700 hover:bg-gray-100 block px-3 py-2 text-base font-medium">Demo</a>
      <a href="#team" class="nav-link-mobile text-gray-700 hover:bg-gray-100 block px-3 py-2 text-base font-medium">Team</a>
      <a href="#code" class="nav-link-mobile text-gray-700 hover:bg-gray-100 block px-3 py-2 text-base font-medium">Code</a>
      <a href="#report" class="nav-link-mobile text-gray-700 hover:bg-gray-100 block px-3 py-2 text-base font-medium">Report</a>
      <a href="#presentation" class="nav-link-mobile text-gray-700 hover:bg-gray-100 block px-3 py-2 text-base font-medium">Presentation</a>
      <a href="https://computing.calvin.edu/" target="_blank" rel="noopener noreferrer" class="bg-primary-100 text-primary-800 hover:bg-primary-200 block px-3 py-2 text-base font-medium">
        CS Department
      </a>
    </div>
  </div>
</header>

<script>
  // Mobile menu toggle
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  }

  // Close mobile menu when clicking on a link
  const mobileLinks = mobileMenu?.querySelectorAll('a');
  mobileLinks?.forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu!.classList.add('hidden');
    });
  });

  // Active section highlighting
  const sections = document.querySelectorAll('section[id]');
  const navLinks = document.querySelectorAll('.nav-link');
  const navLinksMobile = document.querySelectorAll('.nav-link-mobile');

  function highlightNavLink() {
    const scrollY = window.scrollY;

    sections.forEach(section => {
      const sectionTop = (section as HTMLElement).offsetTop - 100;
      const sectionHeight = (section as HTMLElement).offsetHeight;
      const sectionId = section.getAttribute('id');

      if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
        // Desktop nav
        navLinks.forEach(link => {
          link.classList.remove('text-primary-700', 'font-semibold');
          link.classList.add('text-gray-700');
          if (link.getAttribute('href') === `#${sectionId}`) {
            link.classList.remove('text-gray-700');
            link.classList.add('text-primary-700', 'font-semibold');
          }
        });
        // Mobile nav
        navLinksMobile.forEach(link => {
          link.classList.remove('text-primary-700', 'bg-primary-50');
          if (link.getAttribute('href') === `#${sectionId}`) {
            link.classList.add('text-primary-700', 'bg-primary-50');
          }
        });
      }
    });
  }

  window.addEventListener('scroll', highlightNavLink);
  highlightNavLink(); // Run on page load
</script>
